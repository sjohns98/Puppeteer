<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Puppeteer</title>
  </head>
  <body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <form id="form">
                    <div class="form-group">
                        <label for="user">Nike email</label>
                        <input type="text" class="form-control" id="userUserInput" placeholder="Nike@gmail.com">
                    </div>
                    <div class="form-group">
                        <label for="user">password</label>
                        <input type="text" class="form-control" id="userPassInput" placeholder="password">
                    </div>


                    <div class="form-group">
                        <label for="user">Security Code</label>
                        <input type="text" class="form-control" id="cvUserInpput" placeholder="Security Code">
                    </div>


                    <div class="form-group">
                        <label for="user">Shoe Size</label>
                        <input type="text" class="form-control" id="sizeUserInput" placeholder="M 13 / W 14.5">
                    </div>
                    <div class="form-group">
                        <label for="user">URL </label>
                        <input type="text" class="form-control" id="urlUserInput" placeholder="https://www.nike.com/t/air-force-1-07-mens-shoe-JkTGzADv/315122-111">
                    <button type="submit" class="btn btn-primary">Order</button>
                </form>
            <div class = "container text-center">
            <div class="coll-lg-4">
                <h3>How to use website</h3>
                <i class = "fa fa heart"></i>
                <p>
                    Before running Puppeteer you must have a nike account already set up with all of your billing information saved.
                    You should enter your nike email and password exactly as you have it on the official nike website. Please enter your
                    security code as that is required everytime you checkout. Add your shoe size in the demonstrated format above and copy
                    and the paste the nike url of the shoe you would like to purchase.
                    
                </p>
            </div>


            </div>
            </div>
            <div class="col-lg-2"></div>
        </div>
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <ul class="list-group" id="display">
                
                </ul>
            </div>
            <div class="col-lg-2"></div>
        </div> 
        <br>
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8">
                <div class="alert" role="alert" id="message">
                    
                </div>
            </div>
            <div class="col-lg-2"></div>
        </div>
           
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script>
        $(document).ready(()=>{
            const display = $("#display");
            const form = $("#form");
            const userUserInput = $("#userUserInput");
            const userPassInput = $("#userPassInput");
            const cvUserInpput = $("#cvUserInpput");
            const sizeUserInput = $("#sizeUserInput");
            const urlUserInput = $("#urlUserInput");
            const message = $("#message");
            message.hide();

            // const displayMessage = (flag,msg)=>{
            //     // successful
            //     if(flag){
            //         message.removeClass('alert-danger');
            //         message.addClass('alert-success');
            //         message.html(msg);
            //         message.show();
            //     }
            //     else{
            //         message.removeClass('alert-success');
            //         message.addClass('alert-danger');
            //         message.html(msg);
            //         message.show();
            //     }
            // }
 
            // const getUser = ()=>{
            //     fetch('/getUser',{method : "get"}).then((response)=>{
            //         return response.json();
            //     }).then((data)=>{
            //         console.log(data);
            //         displayUser(data);
            //     });
            // }

       

           

            form.submit((e)=>{
                e.preventDefault();
                fetch('/',{
                    method : 'post',
                    body : JSON.stringify({
                        email : userUserInput.val(),
                        password : userPassInput.val(),
                        cv : cvUserInpput.val(),
                        size : sizeUserInput.val(),
                        url : urlUserInput.val()
                    }),
                    headers : {
                        "Content-Type" : "application/json; charset=utf-8"
                    }
                }).then((response)=>{
                    return response.json();
                }).then((data)=>{
                    

                    alert('user input', data);
                    
                });
            });

        });
    </script>
</body>
</html>